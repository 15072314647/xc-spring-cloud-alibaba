(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Vl52:function(t,e,r){"use strict";r.r(e);var n=r("p0pE"),a=r.n(n),o=r("d6i3"),c=r.n(o),u=r("7DNP"),s=r("Qyje");var i=r("1l/V"),p=r.n(i),f=r("sy1d");function d(t){return l.apply(this,arguments)}function l(){return(l=p()(c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(f.a)("/api/login/captcha?mobile=".concat(e)));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function h(t){return w.apply(this,arguments)}function w(){return(w=p()(c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(f.a)("/api/admin/user/login",{method:"post",data:e,requestType:"form"}));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function b(t){return y.apply(this,arguments)}function y(){return(y=p()(c.a.mark(function t(e){return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(f.a)("/api/admin/user/loginMobile",{method:"post",data:e,requestType:"form"}));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}var x=r("xKgJ"),g={namespace:"userLogin",state:{status:void 0},effects:{login:c.a.mark(function t(e,r){var n,a,o,i,p,f,d;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,a=r.call,o=r.put,t.next=4,a(1===n.loginType?b:h,n);case 4:return(i=t.sent).type=n.type,t.next=8,o({type:"changeLoginStatus",payload:i});case 8:if(1!==i.code){t.next=26;break}if(p=new URL(window.location.href),f=Object(s.parse)(window.location.href.split("?")[1]),!(d=f.redirect)){t.next=25;break}if(new URL(d).origin!==p.origin){t.next=19;break}(d=d.substr(p.origin.length)).match(/^\/.*#/)&&(d=d.substr(d.indexOf("#")+1)),t.next=21;break;case 19:return window.location.href=d,t.abrupt("return");case 21:return t.next=23,o(u.routerRedux.replace(d||"/"));case 23:t.next=26;break;case 25:window.location.href="/xc-demo/list";case 26:case"end":return t.stop()}},t)}),getCaptcha:c.a.mark(function t(e,r){var n,a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.payload,a=r.call,t.next=4,a(d,n);case 4:case"end":return t.stop()}},t)})},reducers:{changeLoginStatus:function(t,e){var r=e.payload;return 1!=r.code?r.status="error":(r.status="ok",r.currentAuthority="admin",Object(f.b)(r.result.token)),Object(x.b)(r.currentAuthority),a()({},t,{status:r.status,type:r.type})}}};e.default=g}}]);